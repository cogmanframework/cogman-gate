# BASE-3: Formula Registry

**Version:** v1.0-LOCKED  
**Status:** LOCKED ‚Äî ‡∏™‡∏π‡∏ï‡∏£‡πÄ‡∏õ‡πá‡∏ô First-Class Citizen

---

## Purpose

**‡∏™‡∏π‡∏ï‡∏£‡πÄ‡∏õ‡πá‡∏ô First-Class Citizen**

**‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏π‡∏ï‡∏£ = ‡πÑ‡∏°‡πà‡∏°‡∏µ logic**  
**‡∏´‡πâ‡∏≤‡∏°‡∏°‡∏µ‡∏™‡∏π‡∏ï‡∏£‡∏ã‡πâ‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢**  
**‡∏´‡πâ‡∏≤‡∏°‡∏™‡∏π‡∏ï‡∏£‡∏ù‡∏±‡∏á‡πÉ‡∏ô code ‡πÇ‡∏î‡∏¢‡πÑ‡∏°‡πà‡∏≠‡∏¢‡∏π‡πà registry**

---

## Core Principles

### üìå Formula First
- ‡∏ó‡∏∏‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô registry
- ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏π‡∏ï‡∏£‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô code
- ‡∏™‡∏π‡∏ï‡∏£‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ documentation ‡∏Ñ‡∏£‡∏ö

### üìå Single Source of Truth
- Registry ‡πÄ‡∏õ‡πá‡∏ô‡πÅ‡∏´‡∏•‡πà‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Ç‡∏≠‡∏á‡∏™‡∏π‡∏ï‡∏£
- Code ‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ó‡∏µ‡πà registry
- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏π‡∏ï‡∏£ = ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô registry

---

## Formula Template

‡∏ó‡∏∏‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ:

- **Name**: ‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏π‡∏ï‡∏£
- **Purpose**: ‡∏à‡∏∏‡∏î‡∏õ‡∏£‡∏∞‡∏™‡∏á‡∏Ñ‡πå
- **Formula**: ‡∏™‡∏°‡∏Å‡∏≤‡∏£
- **Input range**: ‡∏ä‡πà‡∏ß‡∏á‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á input
- **Output range**: ‡∏ä‡πà‡∏ß‡∏á‡∏Ñ‡πà‡∏≤‡∏Ç‡∏≠‡∏á output
- **Dependency**: ‡∏™‡∏π‡∏ï‡∏£‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Å‡πà‡∏≠‡∏ô
- **Usage layer**: Layer ‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏™‡∏π‡∏ï‡∏£‡∏ô‡∏µ‡πâ

---

## Core Formulas (CCK)

### CORE-1: ŒîEŒ® ‚Äî Energy of Perception

**Name:** ŒîEŒ® (Energy of Perception)

**Purpose:**
- ‡∏î‡∏±‡∏ä‡∏ô‡∏µ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏Ç‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏π‡πâ
- ‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡∏ß‡πà‡∏≤ "‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î trajectory ‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà"
- ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô noise / hallucination ‡∏ï‡∏±‡πâ‡∏á‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏ô

**Formula:**
```
ŒîEŒ® = I √ó |P| √ó S_a √ó (1 ‚àí H)
```

**Input Range:**
- `I`: [0, ‚àû)
- `P`: (-‚àû, ‚àû)
- `S_a`: [0, 1]
- `H`: [0, 1]

**Output Range:**
- `ŒîEŒ®`: [0, ‚àû)

**Dependency:**
- None (foundation formula)

**Used in:**
- Trajectory Builder (Admission Gate)
- Perception Layer

**Status:** LOCKED (Canonical Core)

---

### CORE-2: E_reflex ‚Äî Reflex Energy

**Name:** E_reflex (Reflex Energy)

**Purpose:**
- ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏õ‡∏è‡∏¥‡∏Å‡∏¥‡∏£‡∏¥‡∏¢‡∏≤‡∏ó‡∏±‡∏ô‡∏ó‡∏µ‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏π‡πâ
- ‡πÉ‡∏ä‡πâ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ß‡πà‡∏≤‡∏à‡∏∞ "‡∏ï‡∏≠‡∏ö‡∏™‡∏ô‡∏≠‡∏á‡πÄ‡∏£‡πá‡∏ß" ‡∏´‡∏£‡∏∑‡∏≠ "‡∏£‡∏≠‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•"

**Formula:**
```
E_reflex = ŒîEŒ® √ó (1 + A)
```

**Input Range:**
- `ŒîEŒ®`: [0, ‚àû)
- `A`: [0, 1]

**Output Range:**
- `E_reflex`: [0, ‚àû)

**Dependency:**
- CORE-1 (ŒîEŒ®)

**Used in:**
- Reflex Layer
- Decision Gate

**Status:** LOCKED (Canonical Core)

---

### CORE-3: ŒîEŒ®_theta ‚Äî Directional Reflex Energy

**Name:** ŒîEŒ®_theta (Directional Reflex Energy)

**Purpose:**
- ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô reflex ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ó‡∏¥‡∏®‡∏ó‡∏≤‡∏á
- ‡πÉ‡∏ä‡πâ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏Å‡∏≤‡∏£‡∏´‡∏±‡∏ô‡∏Ç‡∏≠‡∏á reasoning

**Formula:**
```
ŒîEŒ®_theta = ŒîEŒ® √ó theta_phase √ó 0.2
```

**Input Range:**
- `ŒîEŒ®`: [0, ‚àû)
- `theta_phase`: [0, 2œÄ)

**Output Range:**
- `ŒîEŒ®_theta`: [0, ‚àû)

**Dependency:**
- CORE-1 (ŒîEŒ®)

**Used in:**
- Reflex Layer
- Directional Control

**Status:** LOCKED (Canonical Core)

---

### CORE-4: E_mind ‚Äî Cognitive Energy

**Name:** E_mind (Cognitive Energy)

**Purpose:**
- ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢‡πÅ‡∏•‡∏∞‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ä‡∏¥‡∏á‡πÄ‡∏´‡∏ï‡∏∏‡∏ú‡∏•
- ‡πÄ‡∏Å‡∏¥‡∏î‡∏´‡∏•‡∏±‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏π‡πâ ‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πà reflex

**Formula:**
```
E_mind = (I + A + (1 ‚àí H)) / 3
```

**Input Range:**
- `I`: [0, ‚àû)
- `A`: [0, 1]
- `H`: [0, 1]

**Output Range:**
- `E_mind`: [0, 1]

**Dependency:**
- None (independent)

**Used in:**
- Cognitive Layer
- Reasoning Layer

**Status:** LOCKED (Canonical Core)

---

### CORE-5: E_coherence ‚Äî Coherence Energy

**Name:** E_coherence (Coherence Energy)

**Purpose:**
- ‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≠‡∏î‡∏Ñ‡∏•‡πâ‡∏≠‡∏á‡∏†‡∏≤‡∏¢‡πÉ‡∏ô‡∏Ç‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏ö
- ‡πÉ‡∏ä‡πâ‡∏î‡∏π‡∏ß‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î "‡πÅ‡∏ï‡∏Å" ‡∏´‡∏£‡∏∑‡∏≠ "‡∏£‡∏ß‡∏°‡∏ï‡∏±‡∏ß‡∏î‡∏µ"

**Formula:**
```
E_coherence = (S + A + (1 ‚àí H)) / 3
```

**Input Range:**
- `S`: [0, 1]
- `A`: [0, 1]
- `H`: [0, 1]

**Output Range:**
- `E_coherence`: [0, 1]

**Dependency:**
- None (independent)

**Used in:**
- Coherence Layer
- Binding Energy

**Status:** LOCKED (Canonical Core)

---

### CORE-6: E_neural ‚Äî Neuro-Energetic Sum

**Name:** E_neural (Neuro-Energetic Sum)

**Purpose:**
- ‡∏ú‡∏•‡∏£‡∏ß‡∏°‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡πÄ‡∏ä‡∏¥‡∏á‡∏£‡∏∞‡∏ö‡∏ö‡∏õ‡∏£‡∏∞‡∏™‡∏≤‡∏ó (‡πÄ‡∏ä‡∏¥‡∏á‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå)
- Interface/placeholder ‡∏ó‡∏µ‡πà‡∏™‡∏≤‡∏°‡∏≤‡∏£‡∏ñ implement ‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡πÅ‡∏ö‡∏ö

**Formula:**
```
E_neural = dopamine + serotonin + oxytocin + adrenaline + cortisol
```

**Input Range:**
- `dopamine`: [0, ‚àû)
- `serotonin`: [0, ‚àû)
- `oxytocin`: [0, ‚àû)
- `adrenaline`: [0, ‚àû)
- `cortisol`: [0, ‚àû)

**Output Range:**
- `E_neural`: [0, ‚àû)

**Dependency:**
- None (interface)

**Used in:**
- Neural Layer
- Binding Energy

**Status:** LOCKED (Canonical Core - Interface)

---

### CORE-7: E_bind ‚Äî Binding Energy

**Name:** E_bind (Binding Energy)

**Purpose:**
- ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏ä‡∏∑‡πà‡∏≠‡∏°‡πÇ‡∏¢‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏£‡∏π‡πâ + ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Ñ‡∏¥‡∏î + ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏£‡∏∞‡∏ö‡∏ö
- ‡πÉ‡∏ä‡πâ‡∏Å‡πà‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥

**Formula:**
```
E_bind = E_mind √ó E_neural √ó E_coherence
```

**Input Range:**
- `E_mind`: [0, ‚àû)
- `E_neural`: [0, ‚àû)
- `E_coherence`: [0, ‚àû)

**Output Range:**
- `E_bind`: [0, ‚àû)

**Dependency:**
- CORE-4 (E_mind)
- CORE-6 (E_neural)
- CORE-5 (E_coherence)

**Used in:**
- Binding Layer
- Memory Encoding

**Status:** LOCKED (Canonical Core)

---

### CORE-8: E_mem ‚Äî Memory Encoding Energy

**Name:** E_mem (Memory Encoding Energy)

**Purpose:**
- ‡∏û‡∏•‡∏±‡∏á‡∏á‡∏≤‡∏ô‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡∏ß‡πà‡∏≤‡∏Ñ‡∏ß‡∏£‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà

**Formula:**
```
E_mem = A √ó E_bind √ó E_pred
```

**Input Range:**
- `A`: [0, 1]
- `E_bind`: [0, ‚àû)
- `E_pred`: [0, ‚àû)

**Output Range:**
- `E_mem`: [0, ‚àû)

**Dependency:**
- CORE-7 (E_bind)
- E_pred (external)

**Used in:**
- Memory Layer
- Encoding Decision

**Status:** LOCKED (Canonical Core)

---

### CORE-9: G_decision ‚Äî Decision Gate Verdict

**Name:** G_decision (Decision Gate Verdict)

**Purpose:**
- ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡∏î‡∏™‡∏¥‡∏ô‡πÉ‡∏à‡πÄ‡∏ä‡∏¥‡∏á‡∏ß‡∏¥‡∏®‡∏ß‡∏Å‡∏£‡∏£‡∏°
- ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ô‡∏£‡∏π‡πâ‡∏™‡∏î
- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÑ‡∏î‡πâ ‡∏¢‡πâ‡∏≠‡∏ô‡∏£‡∏≠‡∏¢‡πÑ‡∏î‡πâ

**Formula:**
```
Logic:
  IF rule_fail ‚Üí BLOCK
  IF EŒº ‚àà restrict ‚Üí BLOCK
  IF H high OR D_traj high ‚Üí REVIEW
  ELSE ‚Üí ALLOW
```

**Input Range:**
- `rule_fail`: boolean
- `EŒº`: (-‚àû, ‚àû)
- `restrict`: [restrict_min, restrict_max]
- `H`: [0, 1]
- `D_traj`: [0, ‚àû)

**Output Range:**
- `decision`: {ALLOW, REVIEW, BLOCK}

**Dependency:**
- EŒº (external)
- H (from state)
- D_traj (external)

**Used in:**
- Decision Gate
- Safety Layer

**Status:** LOCKED (Canonical Core)

---

## Formula Dependency Graph

```
CORE-1: ŒîEŒ®
  ‚îú‚îÄ‚Üí CORE-2: E_reflex
  ‚îî‚îÄ‚Üí CORE-3: ŒîEŒ®_theta

CORE-4: E_mind
CORE-5: E_coherence
CORE-6: E_neural
  ‚îÇ
  ‚îî‚îÄ‚Üí CORE-7: E_bind
        ‚îÇ
        ‚îî‚îÄ‚Üí CORE-8: E_mem

CORE-9: G_decision (uses EŒº, H, D_traj)
```

---

## Formula Rules

### Rule 1: No Hidden Formulas
- ‡∏ó‡∏∏‡∏Å‡∏™‡∏π‡∏ï‡∏£‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô registry
- ‡∏´‡πâ‡∏≤‡∏°‡∏°‡∏µ‡∏™‡∏π‡∏ï‡∏£‡∏ã‡πà‡∏≠‡∏ô‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô code
- Code ‡∏ï‡πâ‡∏≠‡∏á‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤‡∏ó‡∏µ‡πà registry

### Rule 2: No Duplicate Meanings
- ‡∏´‡πâ‡∏≤‡∏°‡∏°‡∏µ‡∏™‡∏π‡∏ï‡∏£‡∏ã‡πâ‡∏≥‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏°‡∏≤‡∏¢
- ‡∏ñ‡πâ‡∏≤‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£ variant ‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏±‡∏î‡πÄ‡∏à‡∏ô
- ‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏µ justification ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö variant

### Rule 3: Formula First
- ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏™‡∏π‡∏ï‡∏£‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ô code
- Code ‡πÄ‡∏õ‡πá‡∏ô implementation ‡∏Ç‡∏≠‡∏á‡∏™‡∏π‡∏ï‡∏£
- ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏π‡∏ï‡∏£ = ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô registry ‡∏Å‡πà‡∏≠‡∏ô

---

## Version History

- **v1.0-LOCKED**: Initial formula registry (9 core formulas)

---

## Notes

- **Lock Status**: LOCKED ‚Äî Formula changes require review
- **Review Process**: ‡∏ï‡πâ‡∏≠‡∏á‡∏ú‡πà‡∏≤‡∏ô formal review ‡∏Å‡πà‡∏≠‡∏ô‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç
- **Impact**: Formula changes ‡∏Å‡∏£‡∏∞‡∏ó‡∏ö‡∏ó‡∏±‡πâ‡∏á‡∏£‡∏∞‡∏ö‡∏ö
- **Reference**: ‡∏î‡∏π‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÉ‡∏ô `COGMAN_CORE_KERNEL.md`

